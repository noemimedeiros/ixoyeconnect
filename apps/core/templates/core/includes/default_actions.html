{% load crispy_forms_tags %}
<form class="dashboard-head-actions" method="get">
    <div class="search-input">
        <i class="fa-solid fa-magnifying-glass"></i>
        <input name="q" class="form-primary" type="text" placeholder="Pesquisar" value="{{ request.GET.q }}">
    </div>
    <span data-bs-toggle="offcanvas" data-bs-target="#modal_filtar">
        <button type="button" data-bs-toggle="tooltip" data-bs-title="Aplicar filtros"  class="btn button-filled-tonal filter-btn">
            <i class="fa-solid fa-filter fa-xl"></i>
            {% if filtros_aplicados %}
            <div class="possui-filtros-icon">
                {{ filtros_aplicados }}
            </div>
            {% endif %}
        </button>
    </span>
    <div class="offcanvas offcanvas-end offcanvas-filter overflow-auto" id="modal_filtar" data-bs-scroll="true" tabindex="-1" aria-labelledby="modal_filtar_label">
        <div class="offcanvas-content p-2">
            <div class="offcanvas-header">
                <h1 class="modal-title fs-5" id="modal_filtar_label">
                    <i class="fa-solid fa-filter fa-lg me-1 text-primary"></i>
                    <b>Filtrar por:</b>
                </h1>
                <a href="{{ request.path }}" class="text-primary ms-auto">Limpar Filtros</a>
            </div>
            <div class="offcanvas-body">
                {% crispy filter.form %}
                <button type="submit" class="btn button-filled w-100">Aplicar filtros</button>
                <button data-bs-dismiss="offcanvas" type="button" class="btn button-outlined mt-2 w-100">Fechar filtros</button>
            </div>
        </div>
    </div>
</form>